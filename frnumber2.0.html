<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>法语数字与表达学习指南</title>
    <!-- 引入 Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
        }
        /* 选项卡激活时的样式 */
        .tab.active {
            border-color: #4f46e5;
            color: #4f46e5;
            background-color: #eef2ff;
        }
        /* 语言切换按钮样式 */
        .lang-btn.active {
            background-color: #4f46e5;
            color: white;
        }
    </style>
</head>
<body class="bg-gray-100">

    <div class="container mx-auto px-4 py-8 md:py-12 max-w-4xl">
        <!-- 页面主标题 -->
        <header class="text-center mb-10">
            <h1 class="text-4xl md:text-5xl font-extrabold text-gray-800" data-key="mainTitle">法语数字与表达全攻略</h1>
            <p class="text-gray-500 mt-3 text-lg" data-key="subTitle">一个系统学习法语基础知识的交互式指南</p>
            <!-- 语言切换器 -->
            <div class="mt-6 inline-flex rounded-lg shadow-sm">
                <button id="lang-zh" class="lang-btn active px-4 py-2 text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-l-lg hover:bg-gray-100 focus:z-10 focus:ring-2 focus:ring-blue-700 focus:text-blue-700">中文</button>
                <button id="lang-en" class="lang-btn px-4 py-2 text-sm font-medium text-gray-900 bg-white border-t border-b border-r border-gray-200 rounded-r-lg hover:bg-gray-100 focus:z-10 focus:ring-2 focus:ring-blue-700 focus:text-blue-700">English</button>
            </div>
        </header>

        <!-- 数字部分 -->
        <section class="mb-12">
            <h2 class="text-3xl font-bold text-gray-800 mb-6 text-center" data-key="part1Title">第一部分：数字 (Les Nombres)</h2>
            <!-- 基础数字 (0-20) -->
            <div class="mb-12">
                <h3 class="text-2xl font-bold text-gray-700 mb-4 border-l-4 border-indigo-500 pl-3" data-key="basicNumbersTitle">基础数字 (0-20)</h3>
                <div id="basic-numbers-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3">
                    <!-- JS动态生成 -->
                </div>
            </div>

            <!-- 整十数字 -->
            <div class="mb-12">
                <h3 class="text-2xl font-bold text-gray-700 mb-4 border-l-4 border-indigo-500 pl-3" data-key="tensNumbersTitle">整十数字 (20-60)</h3>
                <div id="tens-numbers-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3">
                    <!-- JS动态生成 -->
                </div>
            </div>

            <!-- 数字规则、语法等 -->
            <div class="bg-white rounded-lg shadow-lg p-6 md:p-8">
                <div class="flex flex-wrap border-b border-gray-200 mb-6">
                    <button data-tab="rules" class="tab active py-2 px-4 font-semibold border-b-2" data-key="tabRules">特殊规则</button>
                    <button data-tab="grammar" class="tab py-2 px-4 font-semibold border-b-2 border-transparent text-gray-500" data-key="tabGrammar">语法要点</button>
                    <button data-tab="pronunciation" class="tab py-2 px-4 font-semibold border-b-2 border-transparent text-gray-500" data-key="tabPronunciation">发音技巧</button>
                    <button data-tab="mistakes" class="tab py-2 px-4 font-semibold border-b-2 border-transparent text-gray-500" data-key="tabMistakes">常见易错点</button>
                </div>
                <div id="tab-content">
                    <!-- 特殊规则 (默认显示) -->
                    <div id="rules-content" class="tab-pane">
                        <p class="mb-4 text-gray-600" data-key="rulesDesc">法语数字在70、80、90处有独特的计数逻辑，是学习的重点和难点。</p>
                        <div class="space-y-4">
                            <div class="p-4 bg-blue-50 rounded-lg">
                                <h3 class="font-bold text-lg text-blue-800" data-key="rules70Title">70-79: 基于60的加法</h3>
                                <p data-key="rules70Desc">70 是 <code class="bg-blue-200 text-blue-900 px-1 rounded">soixante-dix</code> (60+10)，71 是 <code class="bg-blue-200 text-blue-900 px-1 rounded">soixante-et-onze</code> (60+11)，以此类推。</p>
                            </div>
                            <div class="p-4 bg-green-50 rounded-lg">
                                <h3 class="font-bold text-lg text-green-800" data-key="rules80Title">80-89: 基于20的乘法</h3>
                                <p data-key="rules80Desc">80 是 <code class="bg-green-200 text-green-900 px-1 rounded">quatre-vingts</code> (4x20)。注意 <code class="font-mono">vingt</code> 在这里有's'。但 81 <code class="bg-green-200 text-green-900 px-1 rounded">quatre-vingt-un</code> (4x20-1) 开始，'s'就消失了。</p>
                            </div>
                            <div class="p-4 bg-yellow-50 rounded-lg">
                                <h3 class="font-bold text-lg text-yellow-800" data-key="rules90Title">90-99: 80 + 10</h3>
                                <p data-key="rules90Desc">90 是 <code class="bg-yellow-200 text-yellow-900 px-1 rounded">quatre-vingt-dix</code> (4x20+10)，91 是 <code class="bg-yellow-200 text-yellow-900 px-1 rounded">quatre-vingt-onze</code> (4x20+11)，以此类推。</p>
                            </div>
                        </div>
                    </div>

                    <!-- 语法要点 -->
                    <div id="grammar-content" class="tab-pane hidden">
                        <ul class="space-y-3 list-disc list-inside text-gray-700">
                            <li data-key="grammarHyphen"><strong>连字符 (-):</strong> 复合数字中，小于100的个位和十位之间通常用连字符连接，例如 <code class="bg-gray-200 px-1 rounded">dix-sept</code> (17), <code class="bg-gray-200 px-1 rounded">trente-deux</code> (32)。</li>
                            <li data-key="grammarEt"><strong>"et" (和):</strong> 只在 21, 31, 41, 51, 61, 71 中使用 "et"，例如 <code class="bg-gray-200 px-1 rounded">vingt-et-un</code>。81 和 91 不用 "et"。</li>
                            <li data-key="grammarPlural"><strong>Vingt (20) 和 Cent (100) 的复数 's':</strong> 当它们是整数倍且后面没有其他数字时，加 's'。例如 <code class="bg-gray-200 px-1 rounded">quatre-vingts</code> (80), <code class="bg-gray-200 px-1 rounded">deux cents</code> (200)。但 <code class="bg-gray-200 px-1 rounded">quatre-vingt-trois</code> (83) 和 <code class="bg-gray-200 px-1 rounded">deux cent un</code> (201) 则不加 's'。</li>
                            <li data-key="grammarMille"><strong>Mille (1000):</strong> 是不变的，永远不加 's'。例如 <code class="bg-gray-200 px-1 rounded">deux mille</code> (2000)。</li>
                        </ul>
                    </div>

                    <!-- 发音技巧 -->
                    <div id="pronunciation-content" class="tab-pane hidden">
                         <ul class="space-y-3 list-disc list-inside text-gray-700">
                            <li data-key="pronunciationConsonant"><strong>末尾辅音:</strong> 数字 5 (cinq), 6 (six), 8 (huit), 10 (dix) 的末尾辅音在单独念或在元音前会发音，但在辅音前通常不发音。</li>
                            <li data-key="pronunciationLiaison"><strong>联诵 (Liaison):</strong> 当数字以辅音结尾，而后面的词以元音开头时，会发生联诵。例如 "deux ans" (两年) 听起来像 "deu-zans"。</li>
                            <li data-key="pronunciationNasal"><strong>鼻化元音:</strong> Un, vingt, cent 包含典型的法语鼻化元音，发音时气流同时从口腔和鼻腔通过。</li>
                        </ul>
                    </div>
                    
                    <!-- 常见易错点 -->
                    <div id="mistakes-content" class="tab-pane hidden">
                        <ul class="space-y-4 list-disc list-inside text-gray-700">
                            <li>
                                <strong data-key="mistakesPluralTitle">"Vingt" 和 "Cent" 的 's' 规则:</strong>
                                <p class="ml-4 mt-1 text-sm text-gray-600" data-key="mistakesPluralDesc">
                                    <code>quatre-vingts</code> (80) 有 's'，但 <code>quatre-vingt-un</code> (81) 就没有 's' 了。只有在作为整数倍且后面没有其他数字时才加 's'。例如: <code>deux cents</code> (200) vs <code>deux cent cinquante</code> (250)。
                                </p>
                            </li>
                            <li>
                                <strong data-key="mistakesEtTitle">"et" 的使用时机:</strong>
                                <p class="ml-4 mt-1 text-sm text-gray-600" data-key="mistakesEtDesc">
                                    "et" (和) 只用于 21, 31, 41, 51, 61, 71。特别注意，81 (<code class="bg-gray-200 px-1 rounded">quatre-vingt-un</code>) 和 91 (<code class="bg-gray-200 px-1 rounded">quatre-vingt-onze</code>) 中间没有 "et"。
                                </p>
                            </li>
                             <li>
                                <strong data-key="mistakesMilleTitle">"Mille" 的不变性:</strong>
                                <p class="ml-4 mt-1 text-sm text-gray-600" data-key="mistakesMilleDesc">
                                    <code>mille</code> (1000) 永远不加 's'。例如 <code>trois mille</code> (3000)。但是，<code>million</code> (百万) 和 <code>milliard</code> (十亿) 是名词，需要加 's'，例如 <code>deux millions</code>。
                                </p>
                            </li>
                            <li>
                                <strong data-key="mistakesHyphenTitle">连字符的遗漏:</strong>
                                <p class="ml-4 mt-1 text-sm text-gray-600" data-key="mistakesHyphenDesc">
                                    小于100的复合数字基本都需要连字符，例如 <code>soixante-dix-huit</code> (78)。这是一个常见的书写错误。
                                </p>
                            </li>
                             <li>
                                <strong data-key="mistakesUnTitle">数字 "Un" 的性数变化:</strong>
                                <p class="ml-4 mt-1 text-sm text-gray-600" data-key="mistakesUnDesc">
                                    当 "un" 作为冠词修饰名词时，它需要与名词的性数配合。例如 "un livre" (一本书) vs "une table" (一张桌子)。但在复合数字中，它保持不变，例如 <code>vingt-et-un</code>。
                                </p>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- 数字互动练习 -->
            <div class="mt-12">
                <h3 class="text-2xl font-bold text-gray-700 mb-4 border-l-4 border-indigo-500 pl-3" data-key="quizNumbersTitle">数字小测验</h3>
                <div class="bg-white rounded-lg shadow-lg p-6 text-center">
                    <p class="text-lg text-gray-600 mb-2" data-key="quizNumbersDesc">请写出下面数字的法语形式:</p>
                    <p id="practice-number" class="text-6xl font-bold text-indigo-600 mb-4">25</p>
                    <input type="text" id="practice-input" class="w-full md:w-2/3 p-3 border-2 border-gray-300 rounded-lg text-center text-lg focus:border-indigo-500 focus:ring-indigo-500" data-key-placeholder="quizPlaceholder">
                    <div class="mt-4">
                        <button id="check-button" class="bg-indigo-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-indigo-700 transition-colors" data-key="btnCheck">检查</button>
                        <button id="next-practice-button" class="bg-gray-200 text-gray-800 font-bold py-2 px-6 rounded-lg hover:bg-gray-300 transition-colors ml-2" data-key="btnNext">下一个</button>
                    </div>
                    <p id="feedback" class="mt-4 h-6 text-lg font-semibold"></p>
                </div>
            </div>
        </section>

        <!-- 分割线 -->
        <hr class="my-16 border-t-2 border-gray-200">

        <!-- 时间、日期、季节部分 -->
        <section>
            <h2 class="text-3xl font-bold text-gray-800 mb-6 text-center" data-key="part2Title">第二部分：时间与日期 (Le Temps et la Date)</h2>
            
            <!-- 时间的表达 -->
            <div class="mb-12">
                <h3 class="text-2xl font-bold text-gray-700 mb-4 border-l-4 border-green-500 pl-3" data-key="timeTitle">时间的表达 (L'heure)</h3>
                <div class="bg-white rounded-lg shadow-lg p-6 space-y-4">
                    <p data-key="timeAsk">询问时间: <strong class="text-green-700">Quelle heure est-il ?</strong></p>
                    <p data-key="timeAnswer">回答时间以 "Il est..." 开始。</p>
                    <ul class="list-disc list-inside space-y-2">
                        <li data-key="timeOClock">整点: <code class="bg-gray-200 p-1 rounded">Il est deux heures.</code> (2:00)</li>
                        <li data-key="timeQuarter">一刻钟 (15分): <code class="bg-gray-200 p-1 rounded">Il est deux heures et quart.</code> (2:15)</li>
                        <li data-key="timeHalf">半小时 (30分): <code class="bg-gray-200 p-1 rounded">Il est deux heures et demie.</code> (2:30)</li>
                        <li data-key="timeThreeQuarters">三刻钟 (45分): <code class="bg-gray-200 p-1 rounded">Il est trois heures moins le quart.</code> (2:45, 即 "三点差一刻")</li>
                        <li data-key="time24h">正式/24小时制: 直接读数字，例如 <code class="bg-gray-200 p-1 rounded">Il est quatorze heures quarante-cinq.</code> (14:45)</li>
                    </ul>
                </div>
                <!-- 时间小测验 -->
                <div class="mt-6">
                    <div class="bg-white rounded-lg shadow-lg p-6 text-center">
                        <p class="text-lg text-gray-600 mb-2" data-key="quizTimeDesc">请用日常法语写出下面时间 (例如: 2:30):</p>
                        <p id="time-practice-q" class="text-6xl font-bold text-green-600 mb-4">08:15</p>
                        <input type="text" id="time-practice-input" class="w-full md:w-2/3 p-3 border-2 border-gray-300 rounded-lg text-center text-lg focus:border-green-500 focus:ring-green-500" data-key-placeholder="quizTimePlaceholder">
                        <div class="mt-4">
                            <button id="time-check-button" class="bg-green-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-green-700" data-key="btnCheck">检查</button>
                            <button id="time-next-button" class="bg-gray-200 text-gray-800 font-bold py-2 px-6 rounded-lg hover:bg-gray-300 ml-2" data-key="btnNext">下一个</button>
                        </div>
                        <p id="time-feedback" class="mt-4 h-6 text-lg font-semibold"></p>
                    </div>
                </div>
            </div>

            <!-- 具体时间的表达 -->
            <div class="mb-12">
                <h3 class="text-2xl font-bold text-gray-700 mb-4 border-l-4 border-teal-500 pl-3" data-key="specificTimeTitle">具体时间的表达 (L'heure exacte)</h3>
                <div class="bg-white rounded-lg shadow-lg p-6 space-y-4">
                    <p data-key="specificTimeDesc">对于非固定的分钟数，有两种主要表达方式。规则的分界点在“半小时”。</p>
                    <ul class="list-disc list-inside space-y-3">
                        <li>
                            <strong data-key="specificTimeRule1">分钟数在 1-30 分:</strong>
                            <p class="ml-4 mt-1 text-sm text-gray-600" data-key="specificTimeRule1Desc">
                                格式为 <code class="bg-gray-200 p-1 rounded">Il est [小时] heure(s) [分钟].</code> 例如: <code class="bg-gray-200 p-1 rounded">Il est deux heures dix.</code> (2:10)
                            </p>
                        </li>
                        <li>
                            <strong data-key="specificTimeRule2">分钟数在 31-59 分:</strong>
                            <p class="ml-4 mt-1 text-sm text-gray-600" data-key="specificTimeRule2Desc">
                                常用“差几分到下个整点”的方式。格式为 <code class="bg-gray-200 p-1 rounded">Il est [下一个小时] heure(s) moins [差的分钟数].</code> 例如: <code class="bg-gray-200 p-1 rounded">Il est trois heures moins vingt.</code> (2:40, 即“三点差二十分”)
                            </p>
                        </li>
                        <li>
                            <strong data-key="specificTimeNoon">中午和午夜:</strong>
                            <p class="ml-4 mt-1 text-sm text-gray-600" data-key="specificTimeNoonDesc">
                                中午12点是 <code class="bg-gray-200 p-1 rounded">midi</code>，午夜12点是 <code class="bg-gray-200 p-1 rounded">minuit</code>。例如: <code class="bg-gray-200 p-1 rounded">Il est midi et quart.</code> (12:15)
                            </p>
                        </li>
                        <li>
                            <strong data-key="specificTimeHalfTitle">半小时 (demi / demie):</strong>
                            <p class="ml-4 mt-1 text-sm text-gray-600" data-key="specificTimeHalfDesc">
                                半小时的表达是 <code class="bg-gray-200 p-1 rounded">et demie</code>。<strong>易错点:</strong> <code class="font-mono">demie</code> 在这里需要与阴性的 <code class="font-mono">heure</code> 配合，所以用 <code class="font-mono">-e</code> 结尾。但是，在 <code class="font-mono">midi</code> 和 <code class="font-mono">minuit</code> (均为阳性) 后面，则用 <code class="font-mono">demi</code>，例如 <code class="bg-gray-200 p-1 rounded">Il est midi et demi.</code> (12:30)。
                            </p>
                        </li>
                    </ul>
                </div>
                <!-- 具体时间小测验 -->
                <div class="mt-6">
                    <div class="bg-white rounded-lg shadow-lg p-6 text-center">
                        <p class="text-lg text-gray-600 mb-2" data-key="quizSpecificTimeDesc">请用日常法语写出下面具体时间:</p>
                        <p id="specific-time-q" class="text-6xl font-bold text-teal-600 mb-4">04:50</p>
                        <input type="text" id="specific-time-input" class="w-full md:w-2/3 p-3 border-2 border-gray-300 rounded-lg text-center text-lg focus:border-teal-500 focus:ring-teal-500" data-key-placeholder="quizTimePlaceholder">
                        <div class="mt-4">
                            <button id="specific-time-check-button" class="bg-teal-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-teal-700" data-key="btnCheck">检查</button>
                            <button id="specific-time-next-button" class="bg-gray-200 text-gray-800 font-bold py-2 px-6 rounded-lg hover:bg-gray-300 ml-2" data-key="btnNext">下一个</button>
                        </div>
                        <p id="specific-time-feedback" class="mt-4 h-6 text-lg font-semibold"></p>
                    </div>
                </div>
            </div>

            <!-- 日期与星期 -->
            <div class="mb-12">
                <h3 class="text-2xl font-bold text-gray-700 mb-4 border-l-4 border-blue-500 pl-3" data-key="dateTitle">日期与星期 (La Date)</h3>
                <div class="bg-white rounded-lg shadow-lg p-6 grid md:grid-cols-2 gap-8">
                    <div>
                        <h4 class="font-bold text-lg mb-2" data-key="daysOfWeek">星期 (Les jours)</h4>
                        <ul id="days-list" class="space-y-1"></ul>
                    </div>
                    <div>
                        <h4 class="font-bold text-lg mb-2" data-key="monthsOfYear">月份 (Les mois)</h4>
                        <ul id="months-list" class="space-y-1"></ul>
                    </div>
                </div>
                 <div class="bg-white rounded-lg shadow-lg p-6 mt-6">
                    <h4 class="font-bold text-lg mb-2" data-key="dateExpressionTitle">如何表达日期</h4>
                    <p data-key="dateExpressionFormat">格式: <code class="bg-gray-200 p-1 rounded">On est le [星期] [日] [月].</code></p>
                    <p data-key="dateExpressionExample">例如: <strong class="text-blue-700">On est le lundi 25 août.</strong> (今天是8月25日星期一)</p>
                    <p class="text-sm text-gray-500 mt-2" data-key="dateExpressionNote">注意：星期和月份在法语中首字母不需要大写。</p>
                </div>
            </div>
            
            <!-- 年份的表达 -->
            <div class="mb-12">
                <h3 class="text-2xl font-bold text-gray-700 mb-4 border-l-4 border-purple-500 pl-3" data-key="yearTitle">年份的表达 (L'année)</h3>
                <div class="bg-white rounded-lg shadow-lg p-6 space-y-4">
                    <p data-key="yearDesc">在法语中，年份通常作为一个完整的数字来读。介词 <code class="bg-gray-200 p-1 rounded">en</code> 用于表达“在某某年”。</p>
                    <ul class="list-disc list-inside space-y-2">
                        <li data-key="yearExample1">1995: <code class="bg-gray-200 p-1 rounded">mille neuf cent quatre-vingt-quinze</code></li>
                        <li data-key="yearExample2">2024: <code class="bg-gray-200 p-1 rounded">deux mille vingt-quatre</code></li>
                        <li data-key="yearExample3">1800: <code class="bg-gray-200 p-1 rounded">mille huit cents</code> (注意 <code class="font-mono">cent</code> 在这里有's')</li>
                        <li data-key="yearUsage">用法: <code class="bg-gray-200 p-1 rounded">Je suis né en mille neuf cent quatre-vingt-dix.</code> (我出生于1990年)</li>
                    </ul>
                </div>
                <!-- 年份小测验 -->
                <div class="mt-6">
                    <div class="bg-white rounded-lg shadow-lg p-6 text-center">
                        <p class="text-lg text-gray-600 mb-2" data-key="quizYearDesc">请写出下面年份的法语形式:</p>
                        <p id="year-practice-q" class="text-6xl font-bold text-purple-600 mb-4">1984</p>
                        <input type="text" id="year-practice-input" class="w-full md:w-2/3 p-3 border-2 border-gray-300 rounded-lg text-center text-lg focus:border-purple-500 focus:ring-purple-500" data-key-placeholder="quizPlaceholder">
                        <div class="mt-4">
                            <button id="year-check-button" class="bg-purple-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-purple-700" data-key="btnCheck">检查</button>
                            <button id="year-next-button" class="bg-gray-200 text-gray-800 font-bold py-2 px-6 rounded-lg hover:bg-gray-300 ml-2" data-key="btnNext">下一个</button>
                        </div>
                        <p id="year-feedback" class="mt-4 h-6 text-lg font-semibold"></p>
                    </div>
                </div>
            </div>

            <!-- 季节 -->
            <div class="mb-12">
                <h3 class="text-2xl font-bold text-gray-700 mb-4 border-l-4 border-yellow-500 pl-3" data-key="seasonsTitle">季节 (Les Saisons)</h3>
                <div id="seasons-grid" class="grid grid-cols-2 md:grid-cols-4 gap-4">
                    <!-- JS动态生成 -->
                </div>
                 <div class="bg-white rounded-lg shadow-lg p-6 mt-6">
                    <h4 class="font-bold text-lg mb-2" data-key="seasonsPrepositionTitle">季节的介词</h4>
                    <p data-key="seasonsPrepositionSpring">春季用 <code class="bg-gray-200 p-1 rounded">au</code>: au printemps.</p>
                    <p data-key="seasonsPrepositionOthers">其他季节用 <code class="bg-gray-200 p-1 rounded">en</code>: en été, en automne, en hiver.</p>
                </div>
                 <!-- 季节小测验 -->
                <div class="mt-6">
                    <div class="bg-white rounded-lg shadow-lg p-6 text-center">
                        <p id="season-q-text" class="text-lg text-gray-600 mb-2">"夏天" 的法语怎么说?</p>
                        <div id="season-options" class="flex flex-wrap justify-center gap-4 my-4"></div>
                        <div class="mt-4">
                             <button id="season-next-button" class="bg-gray-200 text-gray-800 font-bold py-2 px-6 rounded-lg hover:bg-gray-300" data-key="btnNext">下一题</button>
                        </div>
                        <p id="season-feedback" class="mt-4 h-6 text-lg font-semibold"></p>
                    </div>
                </div>
            </div>
        </section>

        <!-- 分割线 -->
        <hr class="my-16 border-t-2 border-gray-200">

        <!-- 地道表达与地区差异 -->
        <section>
            <h2 class="text-3xl font-bold text-gray-800 mb-6 text-center" data-key="part3Title">第三部分：地道表达与地区差异</h2>

            <!-- 地道表达 -->
            <div class="mb-12">
                <h3 class="text-2xl font-bold text-gray-700 mb-4 border-l-4 border-rose-500 pl-3" data-key="idiomsTitle">地道表达 (Expressions idiomatiques)</h3>
                <div class="bg-white rounded-lg shadow-lg p-6 space-y-4">
                    <ul class="list-disc list-inside space-y-3">
                        <li>
                            <strong data-key="idiom1Title">Chercher midi à quatorze heures:</strong>
                            <p class="ml-4 mt-1 text-sm text-gray-600" data-key="idiom1Desc">
                                字面意思是“在下午两点找中午”，实际意为“庸人自扰，把简单问题复杂化”。
                            </p>
                        </li>
                        <li>
                            <strong data-key="idiom2Title">Se mettre sur son trente-et-un:</strong>
                            <p class="ml-4 mt-1 text-sm text-gray-600" data-key="idiom2Desc">
                                意为“盛装打扮，穿上自己最好的衣服”。
                            </p>
                        </li>
                        <li>
                            <strong data-key="idiom3Title">La semaine des quatre jeudis:</strong>
                            <p class="ml-4 mt-1 text-sm text-gray-600" data-key="idiom3Desc">
                                字面意思是“有四个星期四的一周”，实际意为“永远不可能发生的事，遥遥无期”。
                            </p>
                        </li>
                    </ul>
                </div>
            </div>

            <!-- 地区差异 -->
            <div>
                <h3 class="text-2xl font-bold text-gray-700 mb-4 border-l-4 border-cyan-500 pl-3" data-key="regionalTitle">地区差异 (Variations régionales)</h3>
                <div class="bg-white rounded-lg shadow-lg p-6 space-y-6">
                    <div>
                        <h4 class="font-bold text-lg text-cyan-800" data-key="regionalCanadaTitle">加拿大法语 (Français canadien)</h4>
                         <ul class="list-disc list-inside space-y-2 mt-2">
                            <li data-key="regionalCanadaMeals"><strong>一日三餐:</strong> 在魁北克，早餐是 <code class="bg-gray-200 p-1 rounded">le déjeuner</code>，午餐是 <code class="bg-gray-200 p-1 rounded">le dîner</code>，晚餐是 <code class="bg-gray-200 p-1 rounded">le souper</code>。这和法国本土的用法 (<code class="font-mono">petit-déjeuner</code>, <code class="font-mono">déjeuner</code>, <code class="font-mono">dîner</code>) 完全不同。</li>
                         </ul>
                    </div>
                    <div>
                        <h4 class="font-bold text-lg text-cyan-800" data-key="regionalSwissTitle">瑞士与比利时法语 (Français de Suisse et de Belgique)</h4>
                         <ul class="list-disc list-inside space-y-2 mt-2">
                            <li data-key="regionalSwissNumbers"><strong>数字:</strong> 在瑞士（以及比利时）的某些地区，70, 80, 90 的说法不同，且更符合逻辑：70 是 <code class="bg-gray-200 p-1 rounded">septante</code>，80 是 <code class="bg-gray-200 p-1 rounded">huitante</code> (主要在瑞士) 或 <code class="bg-gray-200 p-1 rounded">quatre-vingts</code>，90 是 <code class="bg-gray-200 p-1 rounded">nonante</code>。</li>
                         </ul>
                    </div>
                </div>
            </div>

        </section>
    </div>

    <!-- 页面底部 -->
    <footer class="text-center py-6 text-gray-500 text-sm">
        <div class="space-y-1">
            <p data-key="copyright">版权所有hugo</p>
            <p><span data-key="contact">帮助与反馈联系邮箱</span>: <a href="mailto:help@745520.xyz" class="text-indigo-600 hover:underline">help@745520.xyz</a></p>
        </div>
        <p class="mt-4">Powered by Gemini</p>
    </footer>

    <script>
    document.addEventListener('DOMContentLoaded', function() {

        // --- 数据 ---
        const frenchData = {
            numbers: {0: 'zéro', 1: 'un', 2: 'deux', 3: 'trois', 4: 'quatre', 5: 'cinq', 6: 'six', 7: 'sept', 8: 'huit', 9: 'neuf', 10: 'dix', 11: 'onze', 12: 'douze', 13: 'treize', 14: 'quatorze', 15: 'quinze', 16: 'seize', 17: 'dix-sept', 18: 'dix-huit', 19: 'dix-neuf', 20: 'vingt', 21: 'vingt-et-un', 30: 'trente', 40: 'quarante', 50: 'cinquante', 60: 'soixante', 100: 'cent'},
            days: { lundi: {zh:'星期一', en:'Monday'}, mardi: {zh:'星期二', en:'Tuesday'}, mercredi: {zh:'星期三', en:'Wednesday'}, jeudi: {zh:'星期四', en:'Thursday'}, vendredi: {zh:'星期五', en:'Friday'}, samedi: {zh:'星期六', en:'Saturday'}, dimanche: {zh:'星期日', en:'Sunday'} },
            months: { janvier: {zh:'一月', en:'January'}, février: {zh:'二月', en:'February'}, mars: {zh:'三月', en:'March'}, avril: {zh:'四月', en:'April'}, mai: {zh:'五月', en:'May'}, juin: {zh:'六月', en:'June'}, juillet: {zh:'七月', en:'July'}, août: {zh:'八月', en:'August'}, septembre: {zh:'九月', en:'September'}, octobre: {zh:'十月', en:'October'}, novembre: {zh:'十一月', en:'November'}, décembre: {zh:'十二月', en:'December'} },
            seasons: { 'le printemps': {zh:'春', en:'Spring'}, 'l\'été': {zh:'夏', en:'Summer'}, 'l\'automne': {zh:'秋', en:'Autumn'}, 'l\'hiver': {zh:'冬', en:'Winter'} }
        };

        const translations = {
            zh: {
                mainTitle: '法语数字与表达全攻略',
                subTitle: '一个系统学习法语基础知识的交互式指南',
                part1Title: '第一部分：数字 (Les Nombres)',
                basicNumbersTitle: '基础数字 (0-20)',
                tensNumbersTitle: '整十数字 (20-60)',
                tabRules: '特殊规则',
                tabGrammar: '语法要点',
                tabPronunciation: '发音技巧',
                tabMistakes: '常见易错点',
                rulesDesc: '法语数字在70、80、90处有独特的计数逻辑，是学习的重点和难点。',
                rules70Title: '70-79: 基于60的加法',
                rules70Desc: '70 是 <code class="bg-blue-200 text-blue-900 px-1 rounded">soixante-dix</code> (60+10)，71 是 <code class="bg-blue-200 text-blue-900 px-1 rounded">soixante-et-onze</code> (60+11)，以此类推。',
                rules80Title: '80-89: 基于20的乘法',
                rules80Desc: '80 是 <code class="bg-green-200 text-green-900 px-1 rounded">quatre-vingts</code> (4x20)。注意 <code class="font-mono">vingt</code> 在这里有\'s\'。但 81 <code class="bg-green-200 text-green-900 px-1 rounded">quatre-vingt-un</code> (4x20-1) 开始，\'s\'就消失了。',
                rules90Title: '90-99: 80 + 10',
                rules90Desc: '90 是 <code class="bg-yellow-200 text-yellow-900 px-1 rounded">quatre-vingt-dix</code> (4x20+10)，91 是 <code class="bg-yellow-200 text-yellow-900 px-1 rounded">quatre-vingt-onze</code> (4x20+11)，以此类推。',
                grammarHyphen: '<strong>连字符 (-):</strong> 复合数字中，小于100的个位和十位之间通常用连字符连接，例如 <code class="bg-gray-200 px-1 rounded">dix-sept</code> (17), <code class="bg-gray-200 px-1 rounded">trente-deux</code> (32)。',
                grammarEt: '<strong>"et" (和):</strong> 只在 21, 31, 41, 51, 61, 71 中使用 "et"，例如 <code class="bg-gray-200 px-1 rounded">vingt-et-un</code>。81 和 91 不用 "et"。',
                grammarPlural: '<strong>Vingt (20) 和 Cent (100) 的复数 \'s\':</strong> 当它们是整数倍且后面没有其他数字时，加 \'s\'。例如 <code class="bg-gray-200 px-1 rounded">quatre-vingts</code> (80), <code class="bg-gray-200 px-1 rounded">deux cents</code> (200)。但 <code class="bg-gray-200 px-1 rounded">quatre-vingt-trois</code> (83) 和 <code class="bg-gray-200 px-1 rounded">deux cent un</code> (201) 则不加 \'s\'。',
                grammarMille: '<strong>Mille (1000):</strong> 是不变的，永远不加 \'s\'。例如 <code class="bg-gray-200 px-1 rounded">deux mille</code> (2000)。',
                pronunciationConsonant: '<strong>末尾辅音:</strong> 数字 5 (cinq), 6 (six), 8 (huit), 10 (dix) 的末尾辅音在单独念或在元音前会发音，但在辅音前通常不发音。',
                pronunciationLiaison: '<strong>联诵 (Liaison):</strong> 当数字以辅音结尾，而后面的词以元音开头时，会发生联诵。例如 "deux ans" (两年) 听起来像 "deu-zans"。',
                pronunciationNasal: '<strong>鼻化元音:</strong> Un, vingt, cent 包含典型的法语鼻化元音，发音时气流同时从口腔和鼻腔通过。',
                mistakesPluralTitle: '"Vingt" 和 "Cent" 的 \'s\' 规则:',
                mistakesPluralDesc: '<code>quatre-vingts</code> (80) 有 \'s\'，但 <code>quatre-vingt-un</code> (81) 就没有 \'s\' 了。只有在作为整数倍且后面没有其他数字时才加 \'s\'。例如: <code>deux cents</code> (200) vs <code>deux cent cinquante</code> (250)。',
                mistakesEtTitle: '"et" 的使用时机:',
                mistakesEtDesc: '"et" (和) 只用于 21, 31, 41, 51, 61, 71。特别注意，81 (<code class="bg-gray-200 px-1 rounded">quatre-vingt-un</code>) 和 91 (<code class="bg-gray-200 px-1 rounded">quatre-vingt-onze</code>) 中间没有 "et"。',
                mistakesMilleTitle: '"Mille" 的不变性:',
                mistakesMilleDesc: '<code>mille</code> (1000) 永远不加 \'s\'。例如 <code>trois mille</code> (3000)。但是，<code>million</code> (百万) 和 <code>milliard</code> (十亿) 是名词，需要加 \'s\'，例如 <code>deux millions</code>。',
                mistakesHyphenTitle: '连字符的遗漏:',
                mistakesHyphenDesc: '小于100的复合数字基本都需要连字符，例如 <code>soixante-dix-huit</code> (78)。这是一个常见的书写错误。',
                mistakesUnTitle: '数字 "Un" 的性数变化:',
                mistakesUnDesc: '当 "un" 作为冠词修饰名词时，它需要与名词的性数配合。例如 "un livre" (一本书) vs "une table" (一张桌子)。但在复合数字中，它保持不变，例如 <code>vingt-et-un</code>。',
                quizNumbersTitle: '数字小测验',
                quizNumbersDesc: '请写出下面数字的法语形式:',
                quizPlaceholder: '在此输入答案...',
                btnCheck: '检查',
                btnNext: '下一个',
                part2Title: '第二部分：时间与日期 (Le Temps et la Date)',
                timeTitle: '时间的表达 (L\'heure)',
                timeAsk: '询问时间:',
                timeAnswer: '回答时间以 "Il est..." 开始。',
                timeOClock: '整点: <code class="bg-gray-200 p-1 rounded">Il est deux heures.</code> (2:00)',
                timeQuarter: '一刻钟 (15分): <code class="bg-gray-200 p-1 rounded">Il est deux heures et quart.</code> (2:15)',
                timeHalf: '半小时 (30分): <code class="bg-gray-200 p-1 rounded">Il est deux heures et demie.</code> (2:30)',
                timeThreeQuarters: '三刻钟 (45分): <code class="bg-gray-200 p-1 rounded">Il est trois heures moins le quart.</code> (2:45, 即 "三点差一刻")',
                time24h: '正式/24小时制: 直接读数字，例如 <code class="bg-gray-200 p-1 rounded">Il est quatorze heures quarante-cinq.</code> (14:45)',
                quizTimeDesc: '请用日常法语写出下面时间 (例如: 2:30):',
                quizTimePlaceholder: 'Il est...',
                specificTimeTitle: '具体时间的表达 (L\'heure exacte)',
                specificTimeDesc: '对于非固定的分钟数，有两种主要表达方式。规则的分界点在“半小时”。',
                specificTimeRule1: '<strong>分钟数在 1-30 分:</strong>',
                specificTimeRule1Desc: '格式为 <code class="bg-gray-200 p-1 rounded">Il est [小时] heure(s) [分钟].</code> 例如: <code class="bg-gray-200 p-1 rounded">Il est deux heures dix.</code> (2:10)',
                specificTimeRule2: '<strong>分钟数在 31-59 分:</strong>',
                specificTimeRule2Desc: '常用“差几分到下个整点”的方式。格式为 <code class="bg-gray-200 p-1 rounded">Il est [下一个小时] heure(s) moins [差的分钟数].</code> 例如: <code class="bg-gray-200 p-1 rounded">Il est trois heures moins vingt.</code> (2:40, 即“三点差二十分”)',
                specificTimeNoon: '<strong>中午和午夜:</strong>',
                specificTimeNoonDesc: '中午12点是 <code class="bg-gray-200 p-1 rounded">midi</code>，午夜12点是 <code class="bg-gray-200 p-1 rounded">minuit</code>。例如: <code class="bg-gray-200 p-1 rounded">Il est midi et quart.</code> (12:15)',
                specificTimeHalfTitle: '<strong>半小时 (demi / demie):</strong>',
                specificTimeHalfDesc: '半小时的表达是 <code class="bg-gray-200 p-1 rounded">et demie</code>。<strong>易错点:</strong> <code class="font-mono">demie</code> 在这里需要与阴性的 <code class="font-mono">heure</code> 配合，所以用 <code class="font-mono">-e</code> 结尾。但是，在 <code class="font-mono">midi</code> 和 <code class="font-mono">minuit</code> (均为阳性) 后面，则用 <code class="font-mono">demi</code>，例如 <code class="bg-gray-200 p-1 rounded">Il est midi et demi.</code> (12:30)。',
                quizSpecificTimeDesc: '请用日常法语写出下面具体时间:',
                dateTitle: '日期与星期 (La Date)',
                daysOfWeek: '星期 (Les jours)',
                monthsOfYear: '月份 (Les mois)',
                dateExpressionTitle: '如何表达日期',
                dateExpressionFormat: '格式: <code class="bg-gray-200 p-1 rounded">On est le [星期] [日] [月].</code>',
                dateExpressionExample: '例如: <strong class="text-blue-700">On est le lundi 25 août.</strong> (今天是8月25日星期一)',
                dateExpressionNote: '注意：星期和月份在法语中首字母不需要大写。',
                yearTitle: '年份的表达 (L\'année)',
                yearDesc: '在法语中，年份通常作为一个完整的数字来读。介词 <code class="bg-gray-200 p-1 rounded">en</code> 用于表达“在某某年”。',
                yearExample1: '1995: <code class="bg-gray-200 p-1 rounded">mille neuf cent quatre-vingt-quinze</code>',
                yearExample2: '2024: <code class="bg-gray-200 p-1 rounded">deux mille vingt-quatre</code>',
                yearExample3: '1800: <code class="bg-gray-200 p-1 rounded">mille huit cents</code> (注意 <code class="font-mono">cent</code> 在这里有\'s\')',
                yearUsage: '用法: <code class="bg-gray-200 p-1 rounded">Je suis né en mille neuf cent quatre-vingt-dix.</code> (我出生于1990年)',
                quizYearDesc: '请写出下面年份的法语形式:',
                seasonsTitle: '季节 (Les Saisons)',
                seasonsPrepositionTitle: '季节的介词',
                seasonsPrepositionSpring: '春季用 <code class="bg-gray-200 p-1 rounded">au</code>: au printemps.',
                seasonsPrepositionOthers: '其他季节用 <code class="bg-gray-200 p-1 rounded">en</code>: en été, en automne, en hiver.',
                feedbackCorrect: '正确! 🎉',
                feedbackIncorrect: '错误。正确答案: ',
                seasonFeedbackCorrect: '非常棒！正确！',
                seasonFeedbackIncorrect: '不对哦, 正确答案是 ',
                part3Title: '第三部分：地道表达与地区差异',
                idiomsTitle: '地道表达 (Expressions idiomatiques)',
                idiom1Title: '<strong>Chercher midi à quatorze heures:</strong>',
                idiom1Desc: '字面意思是“在下午两点找中午”，实际意为“庸人自扰，把简单问题复杂化”。',
                idiom2Title: '<strong>Se mettre sur son trente-et-un:</strong>',
                idiom2Desc: '意为“盛装打扮，穿上自己最好的衣服”。',
                idiom3Title: '<strong>La semaine des quatre jeudis:</strong>',
                idiom3Desc: '字面意思是“有四个星期四的一周”，实际意为“永远不可能发生的事，遥遥无期”。',
                regionalTitle: '地区差异 (Variations régionales)',
                regionalCanadaTitle: '加拿大法语 (Français canadien)',
                regionalCanadaMeals: '<strong>一日三餐:</strong> 在魁北克，早餐是 <code class="bg-gray-200 p-1 rounded">le déjeuner</code>，午餐是 <code class="bg-gray-200 p-1 rounded">le dîner</code>，晚餐是 <code class="bg-gray-200 p-1 rounded">le souper</code>。这和法国本土的用法 (<code class="font-mono">petit-déjeuner</code>, <code class="font-mono">déjeuner</code>, <code class="font-mono">dîner</code>) 完全不同。',
                regionalSwissTitle: '瑞士与比利时法语 (Français de Suisse et de Belgique)',
                regionalSwissNumbers: '<strong>数字:</strong> 在瑞士（以及比利时）的某些地区，70, 80, 90 的说法不同，且更符合逻辑：70 是 <code class="bg-gray-200 p-1 rounded">septante</code>，80 是 <code class="bg-gray-200 p-1 rounded">huitante</code> (主要在瑞士) 或 <code class="bg-gray-200 p-1 rounded">quatre-vingts</code>，90 是 <code class="bg-gray-200 p-1 rounded">nonante</code>。',
                copyright: '版权所有hugo',
                contact: '帮助与反馈联系邮箱'
            },
            en: {
                mainTitle: 'Complete Guide to French Numbers & Expressions',
                subTitle: 'An interactive guide to systematically learn French basics',
                part1Title: 'Part 1: Numbers (Les Nombres)',
                basicNumbersTitle: 'Basic Numbers (0-20)',
                tensNumbersTitle: 'Tens (20-60)',
                tabRules: 'Special Rules',
                tabGrammar: 'Grammar Points',
                tabPronunciation: 'Pronunciation',
                tabMistakes: 'Common Mistakes',
                rulesDesc: 'French numbers have a unique counting logic for 70, 80, and 90, which are key points to learn.',
                rules70Title: '70-79: Based on 60 + addition',
                rules70Desc: '70 is <code class="bg-blue-200 text-blue-900 px-1 rounded">soixante-dix</code> (60+10), 71 is <code class="bg-blue-200 text-blue-900 px-1 rounded">soixante-et-onze</code> (60+11), and so on.',
                rules80Title: '80-89: Based on 20 x multiplication',
                rules80Desc: '80 is <code class="bg-green-200 text-green-900 px-1 rounded">quatre-vingts</code> (4x20). Note that <code class="font-mono">vingt</code> has an \'s\' here. But from 81 <code class="bg-green-200 text-green-900 px-1 rounded">quatre-vingt-un</code> (4x20-1), the \'s\' disappears.',
                rules90Title: '90-99: Based on 80 + 10',
                rules90Desc: '90 is <code class="bg-yellow-200 text-yellow-900 px-1 rounded">quatre-vingt-dix</code> (4x20+10), 91 is <code class="bg-yellow-200 text-yellow-900 px-1 rounded">quatre-vingt-onze</code> (4x20+11), and so on.',
                grammarHyphen: '<strong>Hyphen (-):</strong> In compound numbers less than 100, a hyphen is usually used between the tens and units digits, e.g., <code class="bg-gray-200 px-1 rounded">dix-sept</code> (17), <code class="bg-gray-200 px-1 rounded">trente-deux</code> (32).',
                grammarEt: '<strong>"et" (and):</strong> "et" is only used for 21, 31, 41, 51, 61, 71, e.g., <code class="bg-gray-200 px-1 rounded">vingt-et-un</code>. It is not used for 81 and 91.',
                grammarPlural: '<strong>Plural \'s\' for Vingt (20) and Cent (100):</strong> An \'s\' is added when they are multiplied and not followed by another number, e.g., <code class="bg-gray-200 px-1 rounded">quatre-vingts</code> (80), <code class="bg-gray-200 px-1 rounded">deux cents</code> (200). But not in <code class="bg-gray-200 px-1 rounded">quatre-vingt-trois</code> (83) or <code class="bg-gray-200 px-1 rounded">deux cent un</code> (201).',
                grammarMille: '<strong>Mille (1000):</strong> Is invariable and never takes an \'s\'. E.g., <code class="bg-gray-200 px-1 rounded">deux mille</code> (2000).',
                pronunciationConsonant: '<strong>Final consonants:</strong> The final consonants of 5 (cinq), 6 (six), 8 (huit), 10 (dix) are pronounced when said alone or before a vowel, but often silent before a consonant.',
                pronunciationLiaison: '<strong>Liaison:</strong> Occurs when a number ends in a consonant and is followed by a word starting with a vowel. E.g., "deux ans" (two years) sounds like "deu-zans".',
                pronunciationNasal: '<strong>Nasal vowels:</strong> Un, vingt, cent contain typical French nasal vowels, where air passes through both the mouth and nose.',
                mistakesPluralTitle: 'The \'s\' rule for "Vingt" and "Cent":',
                mistakesPluralDesc: '<code>quatre-vingts</code> (80) has an \'s\', but <code>quatre-vingt-un</code> (81) does not. The \'s\' is only added when it\'s a multiple and not followed by another number. E.g., <code>deux cents</code> (200) vs <code>deux cent cinquante</code> (250).',
                mistakesEtTitle: 'When to use "et":',
                mistakesEtDesc: '"et" (and) is only used for 21, 31, 41, 51, 61, 71. Note that 81 (<code class="bg-gray-200 px-1 rounded">quatre-vingt-un</code>) and 91 (<code class="bg-gray-200 px-1 rounded">quatre-vingt-onze</code>) do not use "et".',
                mistakesMilleTitle: 'Invariability of "Mille":',
                mistakesMilleDesc: '<code>mille</code> (1000) never takes an \'s\'. E.g., <code>trois mille</code> (3000). However, <code>million</code> and <code>milliard</code> are nouns and do take an \'s\', e.g., <code>deux millions</code>.',
                mistakesHyphenTitle: 'Forgetting the hyphen:',
                mistakesHyphenDesc: 'Compound numbers under 100 almost always require hyphens, e.g., <code>soixante-dix-huit</code> (78). This is a common writing mistake.',
                mistakesUnTitle: 'Gender/number agreement of "Un":',
                mistakesUnDesc: 'When "un" is an article modifying a noun, it agrees in gender. E.g., "un livre" (a book) vs "une table" (a table). But in compound numbers, it remains "un", e.g., <code>vingt-et-un</code>.',
                quizNumbersTitle: 'Numbers Quiz',
                quizNumbersDesc: 'Write the following number in French:',
                quizPlaceholder: 'Type your answer here...',
                btnCheck: 'Check',
                btnNext: 'Next',
                part2Title: 'Part 2: Time & Date (Le Temps et la Date)',
                timeTitle: 'Telling Time (L\'heure)',
                timeAsk: 'To ask the time:',
                timeAnswer: 'To answer, start with "Il est...".',
                timeOClock: 'On the hour: <code class="bg-gray-200 p-1 rounded">Il est deux heures.</code> (2:00)',
                timeQuarter: 'Quarter past: <code class="bg-gray-200 p-1 rounded">Il est deux heures et quart.</code> (2:15)',
                timeHalf: 'Half past: <code class="bg-gray-200 p-1 rounded">Il est deux heures et demie.</code> (2:30)',
                timeThreeQuarters: 'Quarter to: <code class="bg-gray-200 p-1 rounded">Il est trois heures moins le quart.</code> (2:45, lit. "three o\'clock minus a quarter")',
                time24h: 'Formal/24-hour clock: Read the numbers directly, e.g., <code class="bg-gray-200 p-1 rounded">Il est quatorze heures quarante-cinq.</code> (14:45)',
                quizTimeDesc: 'Write the following time in conversational French (e.g., 2:30):',
                quizTimePlaceholder: 'Il est...',
                specificTimeTitle: 'Telling the Exact Time (L\'heure exacte)',
                specificTimeDesc: 'For specific minutes, there are two main ways. The dividing line is the half-hour mark.',
                specificTimeRule1: '<strong>Minutes 1-30:</strong>',
                specificTimeRule1Desc: 'The format is <code class="bg-gray-200 p-1 rounded">Il est [hour] heure(s) [minutes].</code> E.g., <code class="bg-gray-200 p-1 rounded">Il est deux heures dix.</code> (2:10)',
                specificTimeRule2: '<strong>Minutes 31-59:</strong>',
                specificTimeRule2Desc: 'It\'s common to say "minutes to the next hour". The format is <code class="bg-gray-200 p-1 rounded">Il est [next hour] heure(s) moins [minutes to].</code> E.g., <code class="bg-gray-200 p-1 rounded">Il est trois heures moins vingt.</code> (2:40, lit. "three o\'clock minus twenty")',
                specificTimeNoon: '<strong>Noon and Midnight:</strong>',
                specificTimeNoonDesc: '12 PM is <code class="bg-gray-200 p-1 rounded">midi</code>, and 12 AM is <code class="bg-gray-200 p-1 rounded">minuit</code>. E.g., <code class="bg-gray-200 p-1 rounded">Il est midi et quart.</code> (12:15)',
                specificTimeHalfTitle: '<strong>Half Past (demi / demie):</strong>',
                specificTimeHalfDesc: 'The expression for half past is <code class="bg-gray-200 p-1 rounded">et demie</code>. <strong>Common Mistake:</strong> <code class="font-mono">demie</code> here agrees with the feminine noun <code class="font-mono">heure</code>, so it ends with <code class="font-mono">-e</code>. However, after <code class="font-mono">midi</code> and <code class="font-mono">minuit</code> (which are masculine), you use <code class="font-mono">demi</code>, e.g., <code class="bg-gray-200 p-1 rounded">Il est midi et demi.</code> (12:30).',
                quizSpecificTimeDesc: 'Write the following exact time in conversational French:',
                dateTitle: 'Date & Week (La Date)',
                daysOfWeek: 'Days of the week (Les jours)',
                monthsOfYear: 'Months of the year (Les mois)',
                dateExpressionTitle: 'How to express the date',
                dateExpressionFormat: 'Format: <code class="bg-gray-200 p-1 rounded">On est le [day] [date] [month].</code>',
                dateExpressionExample: 'Example: <strong class="text-blue-700">On est le lundi 25 août.</strong> (Today is Monday, August 25th)',
                dateExpressionNote: 'Note: Days and months are not capitalized in French.',
                yearTitle: 'Telling the Year (L\'année)',
                yearDesc: 'In French, years are typically read as a full number. The preposition <code class="bg-gray-200 p-1 rounded">en</code> is used to say "in the year...".',
                yearExample1: '1995: <code class="bg-gray-200 p-1 rounded">mille neuf cent quatre-vingt-quinze</code>',
                yearExample2: '2024: <code class="bg-gray-200 p-1 rounded">deux mille vingt-quatre</code>',
                yearExample3: '1800: <code class="bg-gray-200 p-1 rounded">mille huit cents</code> (Note the \'s\' on <code class="font-mono">cent</code> here)',
                yearUsage: 'Usage: <code class="bg-gray-200 p-1 rounded">Je suis né en mille neuf cent quatre-vingt-dix.</code> (I was born in 1990)',
                quizYearDesc: 'Write the following year in French:',
                seasonsTitle: 'Seasons (Les Saisons)',
                seasonsPrepositionTitle: 'Prepositions for seasons',
                seasonsPrepositionSpring: 'For spring, use <code class="bg-gray-200 p-1 rounded">au</code>: au printemps.',
                seasonsPrepositionOthers: 'For other seasons, use <code class="bg-gray-200 p-1 rounded">en</code>: en été, en automne, en hiver.',
                feedbackCorrect: 'Correct! 🎉',
                feedbackIncorrect: 'Incorrect. The correct answer is: ',
                seasonFeedbackCorrect: 'Excellent! Correct!',
                seasonFeedbackIncorrect: 'Not quite, the correct answer is ',
                part3Title: 'Part 3: Idiomatic Expressions & Regional Variations',
                idiomsTitle: 'Idiomatic Expressions (Expressions idiomatiques)',
                idiom1Title: '<strong>Chercher midi à quatorze heures:</strong>',
                idiom1Desc: 'Literally "to look for noon at 2 PM", it means "to overcomplicate things".',
                idiom2Title: '<strong>Se mettre sur son trente-et-un:</strong>',
                idiom2Desc: 'Means "to dress up" or "to wear one\'s best clothes".',
                idiom3Title: '<strong>La semaine des quatre jeudis:</strong>',
                idiom3Desc: 'Literally "the week of four Thursdays", it means "never" or "when pigs fly".',
                regionalTitle: 'Regional Variations (Variations régionales)',
                regionalCanadaTitle: 'Canadian French (Français canadien)',
                regionalCanadaMeals: '<strong>Meals of the day:</strong> In Québec, breakfast is <code class="bg-gray-200 p-1 rounded">le déjeuner</code>, lunch is <code class="bg-gray-200 p-1 rounded">le dîner</code>, and dinner is <code class="bg-gray-200 p-1 rounded">le souper</code>. This is different from France (<code class="font-mono">petit-déjeuner</code>, <code class="font-mono">déjeuner</code>, <code class="font-mono">dîner</code>).',
                regionalSwissTitle: 'Swiss & Belgian French (Français de Suisse et de Belgique)',
                regionalSwissNumbers: '<strong>Numbers:</strong> In parts of Switzerland (and Belgium), the numbers for 70, 80, and 90 are different and more logical: 70 is <code class="bg-gray-200 p-1 rounded">septante</code>, 80 is <code class="bg-gray-200 p-1 rounded">huitante</code> (mainly Swiss) or <code class="bg-gray-200 p-1 rounded">quatre-vingts</code>, and 90 is <code class="bg-gray-200 p-1 rounded">nonante</code>.',
                copyright: 'Copyright © hugo',
                contact: 'For help & feedback, contact'
            }
        };

        let currentLanguage = 'zh';

        // ==========================================================
        // SECTION: 数字 (NUMBERS)
        // ==========================================================
        const basicNumbersGrid = document.getElementById('basic-numbers-grid');
        for (let i = 0; i <= 20; i++) {
            const numberCard = document.createElement('div');
            numberCard.className = 'flex items-center justify-between p-3 bg-white rounded-lg shadow';
            numberCard.innerHTML = `<span class="font-bold text-indigo-600">${i}</span><span class="text-gray-700">${frenchData.numbers[i]}</span>`;
            basicNumbersGrid.appendChild(numberCard);
        }

        const tensNumbersGrid = document.getElementById('tens-numbers-grid');
        const tens = [20, 30, 40, 50, 60];
        tens.forEach(num => {
            const numberCard = document.createElement('div');
            numberCard.className = 'flex items-center justify-between p-3 bg-white rounded-lg shadow';
            numberCard.innerHTML = `<span class="font-bold text-indigo-600">${num}</span><span class="text-gray-700">${frenchData.numbers[num]}</span>`;
            tensNumbersGrid.appendChild(numberCard);
        });

        const tabs = document.querySelectorAll('.tab');
        const tabPanes = document.querySelectorAll('.tab-pane');
        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                tabs.forEach(t => t.classList.remove('active'));
                tabPanes.forEach(p => p.classList.add('hidden'));
                tab.classList.add('active');
                document.getElementById(tab.dataset.tab + '-content').classList.remove('hidden');
            });
        });
        
        const practiceNumberEl = document.getElementById('practice-number');
        const practiceInput = document.getElementById('practice-input');
        const checkButton = document.getElementById('check-button');
        const nextPracticeButton = document.getElementById('next-practice-button');
        const feedbackEl = document.getElementById('feedback');
        let currentPracticeNumber;

        function numberToWords(num) {
            if (num >= 1000) {
                const thousands = Math.floor(num / 1000);
                const remainder = num % 1000;
                const thousandStr = thousands === 1 ? 'mille' : `${numberToWords(thousands)} mille`;
                return remainder > 0 ? `${thousandStr} ${numberToWords(remainder)}` : thousandStr;
            }
            if (num >= 100) {
                const hundreds = Math.floor(num / 100);
                const remainder = num % 100;
                let hundredStr = hundreds === 1 ? 'cent' : `${frenchData.numbers[hundreds]} cent`;
                if (remainder === 0 && hundreds > 1) {
                    hundredStr += 's';
                }
                return remainder > 0 ? `${hundredStr} ${numberToWords(remainder)}` : hundredStr;
            }
            if (frenchData.numbers[num]) return frenchData.numbers[num];
            if (num < 70) {
                const tens = Math.floor(num / 10) * 10;
                const ones = num % 10;
                if (ones === 1) return `${frenchData.numbers[tens]}-et-un`;
                return `${frenchData.numbers[tens]}-${frenchData.numbers[ones]}`;
            }
            if (num < 80) return `soixante-${numberToWords(num - 60)}`;
            if (num === 80) return 'quatre-vingts';
            if (num < 90) return `quatre-vingt-${numberToWords(num - 80)}`;
            if (num < 100) return `quatre-vingt-${numberToWords(num - 80)}`;
            return '';
        }

        function generateNewPractice() {
            currentPracticeNumber = Math.floor(Math.random() * 99) + 1;
            practiceNumberEl.textContent = currentPracticeNumber;
            practiceInput.value = '';
            feedbackEl.textContent = '';
            practiceInput.disabled = false;
        }

        function checkAnswer() {
            if (practiceInput.disabled) return;
            const userAnswer = practiceInput.value.trim().toLowerCase().replace(/\s/g, '-').replace(/--/g, '-');
            const correctAnswer = numberToWords(currentPracticeNumber).replace(/\s/g, '-');
            if (userAnswer === correctAnswer) {
                feedbackEl.textContent = translations[currentLanguage].feedbackCorrect;
                feedbackEl.className = 'mt-4 h-6 text-lg font-semibold text-green-600';
                practiceInput.disabled = true;
            } else {
                feedbackEl.textContent = `${translations[currentLanguage].feedbackIncorrect}${correctAnswer.replace(/-/g, ' ')}`;
                feedbackEl.className = 'mt-4 h-6 text-lg font-semibold text-red-600';
            }
        }
        
        checkButton.addEventListener('click', checkAnswer);
        practiceInput.addEventListener('keyup', (e) => e.key === 'Enter' && checkAnswer());
        nextPracticeButton.addEventListener('click', generateNewPractice);

        // ==========================================================
        // SECTION: 时间 (TIME)
        // ==========================================================
        const timePracticeQ = document.getElementById('time-practice-q');
        const timePracticeInput = document.getElementById('time-practice-input');
        const timeCheckButton = document.getElementById('time-check-button');
        const timeNextButton = document.getElementById('time-next-button');
        const timeFeedback = document.getElementById('time-feedback');
        let currentTimeAnswer;

        function generateTimePractice() {
            const hours = Math.floor(Math.random() * 12) + 1;
            const minutesOptions = [0, 15, 30, 45];
            const minutes = minutesOptions[Math.floor(Math.random() * minutesOptions.length)];
            
            timePracticeQ.textContent = `${String(hours).padStart(2, '0')}:${String(minutes).padStart(2, '0')}`;
            
            let answer = `il est ${numberToWords(hours)} heure${hours > 1 ? 's' : ''}`;
            if (minutes === 15) answer += ' et quart';
            else if (minutes === 30) answer += ' et demie';
            else if (minutes === 45) {
                const nextHour = hours === 12 ? 1 : hours + 1;
                answer = `il est ${numberToWords(nextHour)} heure${nextHour > 1 ? 's' : ''} moins le quart`;
            }
            currentTimeAnswer = answer;
            
            timePracticeInput.value = '';
            timeFeedback.textContent = '';
        }

        timeCheckButton.addEventListener('click', () => {
            const userAnswer = timePracticeInput.value.trim().toLowerCase();
            if (userAnswer === currentTimeAnswer) {
                timeFeedback.textContent = translations[currentLanguage].feedbackCorrect;
                timeFeedback.className = 'mt-4 h-6 text-lg font-semibold text-green-600';
            } else {
                timeFeedback.textContent = `${translations[currentLanguage].feedbackIncorrect}${currentTimeAnswer}`;
                timeFeedback.className = 'mt-4 h-6 text-lg font-semibold text-red-600';
            }
        });
        timeNextButton.addEventListener('click', generateTimePractice);

        // --- 具体时间测验 ---
        const specificTimeQ = document.getElementById('specific-time-q');
        const specificTimeInput = document.getElementById('specific-time-input');
        const specificTimeCheckButton = document.getElementById('specific-time-check-button');
        const specificTimeNextButton = document.getElementById('specific-time-next-button');
        const specificTimeFeedback = document.getElementById('specific-time-feedback');
        let currentSpecificTimeAnswer;

        function generateSpecificTimePractice() {
            const hours = Math.floor(Math.random() * 12) + 1;
            const minutes = Math.floor(Math.random() * 59) + 1; // 1-59
            specificTimeQ.textContent = `${String(hours).padStart(2, '0')}:${String(minutes).padStart(2, '0')}`;
            
            let answer;
            if (minutes <= 30) {
                answer = `il est ${numberToWords(hours)} heure${hours > 1 ? 's' : ''} ${numberToWords(minutes)}`;
            } else {
                const nextHour = hours === 12 ? 1 : hours + 1;
                const minutesTo = 60 - minutes;
                answer = `il est ${numberToWords(nextHour)} heure${nextHour > 1 ? 's' : ''} moins ${numberToWords(minutesTo)}`;
            }
            currentSpecificTimeAnswer = answer;

            specificTimeInput.value = '';
            specificTimeFeedback.textContent = '';
            specificTimeInput.disabled = false;
        }

        specificTimeCheckButton.addEventListener('click', () => {
            if (specificTimeInput.disabled) return;
            const userAnswer = specificTimeInput.value.trim().toLowerCase();
            if (userAnswer === currentSpecificTimeAnswer) {
                specificTimeFeedback.textContent = translations[currentLanguage].feedbackCorrect;
                specificTimeFeedback.className = 'mt-4 h-6 text-lg font-semibold text-green-600';
                specificTimeInput.disabled = true;
            } else {
                specificTimeFeedback.textContent = `${translations[currentLanguage].feedbackIncorrect}${currentSpecificTimeAnswer}`;
                specificTimeFeedback.className = 'mt-4 h-6 text-lg font-semibold text-red-600';
            }
        });
        specificTimeNextButton.addEventListener('click', generateSpecificTimePractice);


        // ==========================================================
        // SECTION: 日期与季节 (DATE & SEASONS)
        // ==========================================================
        const daysList = document.getElementById('days-list');
        const monthsList = document.getElementById('months-list');
        const seasonsGrid = document.getElementById('seasons-grid');
        
        function populateDateAndSeason() {
            daysList.innerHTML = '';
            Object.entries(frenchData.days).forEach(([french, lang]) => {
                daysList.innerHTML += `<li class="p-1 rounded">${french.charAt(0).toUpperCase() + french.slice(1)} (${lang[currentLanguage]})</li>`;
            });

            monthsList.innerHTML = '';
            Object.entries(frenchData.months).forEach(([french, lang]) => {
                monthsList.innerHTML += `<li class="p-1 rounded">${french.charAt(0).toUpperCase() + french.slice(1)} (${lang[currentLanguage]})</li>`;
            });

            seasonsGrid.innerHTML = '';
            Object.entries(frenchData.seasons).forEach(([french, lang]) => {
                seasonsGrid.innerHTML += `
                    <div class="bg-white p-4 rounded-lg shadow text-center">
                        <p class="text-2xl">${lang[currentLanguage]}</p>
                        <p class="text-yellow-700 font-semibold">${french}</p>
                    </div>
                `;
            });
        }
        
        // --- 年份测验 ---
        const yearPracticeQ = document.getElementById('year-practice-q');
        const yearPracticeInput = document.getElementById('year-practice-input');
        const yearCheckButton = document.getElementById('year-check-button');
        const yearNextButton = document.getElementById('year-next-button');
        const yearFeedback = document.getElementById('year-feedback');
        let currentYearAnswer;

        function generateYearPractice() {
            const year = Math.floor(Math.random() * (2030 - 1800 + 1)) + 1800;
            yearPracticeQ.textContent = year;
            currentYearAnswer = numberToWords(year).replace(/\s/g, '-');
            yearPracticeInput.value = '';
            yearFeedback.textContent = '';
            yearPracticeInput.disabled = false;
        }

        yearCheckButton.addEventListener('click', () => {
            if (yearPracticeInput.disabled) return;
            const userAnswer = yearPracticeInput.value.trim().toLowerCase().replace(/\s/g, '-').replace(/--/g, '-');
            if (userAnswer === currentYearAnswer) {
                yearFeedback.textContent = translations[currentLanguage].feedbackCorrect;
                yearFeedback.className = 'mt-4 h-6 text-lg font-semibold text-green-600';
                yearPracticeInput.disabled = true;
            } else {
                yearFeedback.textContent = `${translations[currentLanguage].feedbackIncorrect}${currentYearAnswer.replace(/-/g, ' ')}`;
                yearFeedback.className = 'mt-4 h-6 text-lg font-semibold text-red-600';
            }
        });
        yearNextButton.addEventListener('click', generateYearPractice);

        // --- 季节测验 ---
        const seasonQText = document.getElementById('season-q-text');
        const seasonOptionsContainer = document.getElementById('season-options');
        const seasonFeedback = document.getElementById('season-feedback');
        const seasonNextButton = document.getElementById('season-next-button');
        
        let seasonQuizData = [];
        let currentSeasonQuestionIndex = 0;

        function generateSeasonQuiz() {
            seasonFeedback.textContent = '';
            const currentQuestion = seasonQuizData[currentSeasonQuestionIndex];
            seasonQText.textContent = currentQuestion.question;
            seasonOptionsContainer.innerHTML = '';

            const choices = Object.keys(frenchData.seasons).sort(() => Math.random() - 0.5);
            if (!choices.includes(currentQuestion.answer)) {
                 choices.pop();
                 choices.push(currentQuestion.answer);
                 choices.sort(() => Math.random() - 0.5);
            }

            choices.forEach(season => {
                const button = document.createElement('button');
                button.className = 'bg-yellow-200 text-yellow-800 font-bold py-2 px-6 rounded-lg hover:bg-yellow-300 transition-colors';
                button.textContent = season;
                button.onclick = () => {
                    if (season === currentQuestion.answer) {
                        seasonFeedback.textContent = translations[currentLanguage].seasonFeedbackCorrect;
                        seasonFeedback.className = 'mt-4 h-6 text-lg font-semibold text-green-600';
                    } else {
                        seasonFeedback.textContent = `${translations[currentLanguage].seasonFeedbackIncorrect}${currentQuestion.answer}`;
                        seasonFeedback.className = 'mt-4 h-6 text-lg font-semibold text-red-600';
                    }
                };
                seasonOptionsContainer.appendChild(button);
            });
        }
        
        seasonNextButton.addEventListener('click', () => {
            currentSeasonQuestionIndex = (currentSeasonQuestionIndex + 1) % seasonQuizData.length;
            generateSeasonQuiz();
        });

        // ==========================================================
        // SECTION: 语言切换 (LANGUAGE SWITCHER)
        // ==========================================================
        const langZhBtn = document.getElementById('lang-zh');
        const langEnBtn = document.getElementById('lang-en');

        function setLanguage(lang) {
            currentLanguage = lang;
            document.documentElement.lang = lang === 'zh' ? 'zh-CN' : 'en';
            
            langZhBtn.classList.toggle('active', lang === 'zh');
            langEnBtn.classList.toggle('active', lang === 'en');

            document.querySelectorAll('[data-key]').forEach(el => {
                const key = el.dataset.key;
                if (translations[lang][key]) {
                    el.innerHTML = translations[lang][key];
                }
            });
            
            document.querySelectorAll('[data-key-placeholder]').forEach(el => {
                const key = el.dataset.keyPlaceholder;
                if (translations[lang][key]) {
                    el.placeholder = translations[lang][key];
                }
            });

            populateDateAndSeason();
            
            seasonQuizData = [
                { question: lang === 'zh' ? '"夏天" 的法语怎么说?' : 'How to say "Summer" in French?', answer: 'l\'été' },
                { question: lang === 'zh' ? '"冬天" 的法语怎么说?' : 'How to say "Winter" in French?', answer: 'l\'hiver' },
                { question: lang === 'zh' ? '"春天" 的法语怎么说?' : 'How to say "Spring" in French?', answer: 'le printemps' },
                { question: lang === 'zh' ? '"秋天" 的法语怎么说?' : 'How to say "Autumn" in French?', answer: 'l\'automne' }
            ];
            currentSeasonQuestionIndex = 0;
            generateSeasonQuiz();

            feedbackEl.textContent = '';
            timeFeedback.textContent = '';
            specificTimeFeedback.textContent = '';
            yearFeedback.textContent = '';
        }

        langZhBtn.addEventListener('click', () => setLanguage('zh'));
        langEnBtn.addEventListener('click', () => setLanguage('en'));

        // --- 初始化 ---
        generateNewPractice();
        generateTimePractice();
        generateSpecificTimePractice();
        generateYearPractice();
        setLanguage('zh'); // 默认加载中文
    });
    </script>
</body>
</html>
